## from https://distillery.rbind.io/posts/2021-03-18-use-github-actions-with-r-markdown-and-distill/

on:
  push:
  branches: master

name: Render & Deploy Site

jobs:
  build:
  runs-on: windows-latest
steps:
  - uses: actions/checkout@v2

- uses: r-lib/actions/setup-r@master

- uses: r-lib/actions/setup-pandoc@master

- name: Install dependencies
run: |
  install.packages("rmarkdown")
shell: Rscript {0}

- name: Render Site
run: Rscript -e 'rmarkdown::render("README.Rmd", output_format = "md_document")'
- name: Commit results
run: |
  git add -A
  git commit -m 'update readme' || echo "No changes to commit"
  git push origin || echo "No changes to commit"